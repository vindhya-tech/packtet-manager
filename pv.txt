w-8
Git Plugin
Maven Integration Plugin
Copy Artifact Plugin
Build Pipeline Plugin
Deploy to Container Plugin
Manage Jenkins â†’ Global Tool Configuration
Under Maven â†’ Add a Maven installation:
Name: MAVEN_HOME
Use automatic install OR provide your system path
Under Git â†’ Make sure Git path is detected
..
Source Code Management
Select Git
Paste your Maven Java repo URL
Branches to build:
â†’ */main OR */master (whatever your repo uses)
Build section â†’ click Add build step twice:
ðŸ”¹ First Maven step:
Invoke top-level Maven targets
Maven version: MAVEN_HOME
Goals: clean
ðŸ”¹ Second Maven step:
Invoke top-level Maven targets
Maven version: MAVEN_HOME
Goals: install
Post-build Actions:
Add Archive the artifacts
Files to archive: **/*
Add Build other projects
Projects to build: MavenJava_Test
Trigger: Only if build is stable
..
Build Environment
Tick: Delete workspace before build starts
Copy Artifacts Step:
Add build step â†’ Copy artifacts from another project
Project name: MavenJava_Build
Build: select Stable build only
Artifacts to copy: **/*
ðŸ”¹ Maven Test Step:
Add build step â†’ Invoke top-level Maven targets
Maven version: MAVEN_HOME
Goals: test
Add Archive the artifacts
Files to archive: **/*
Click Save
..
MavenJava_Pipeline
Select: Build Pipeline View
Click OK
STEP 14 â€” Configure Pipeline View
In Initial Job dropdown â†’ select
ðŸ‘‰ MavenJava_Build
Leave layout as default
Click Apply â†’ Save
************
ngrok http 8080
Payload URL:in GitHub webhooks
https://<your-ngrok-URL>/github-webhook/
in Jenkins mavenjava_buil->configure->build trigger->GitHub hook trigger for GITScm polling

*************
Email:
SMTP Server:
smtp.gmail.com
Click Advanced
Check Use SMTP Authentication
Username: your Gmail ID
Password: your App Password
Check Use SSL
SMTP Port:
465
Then scroll down â†’ click Test configuration
Enter another email (like your own) and click Test.
MavenJava_Build â†’ Configure->Add post-build action â†’ Editable Email Notification
Default Subject:
Build Status: $BUILD_STATUS
Default Content:
Job: $JOB_NAME
Build Number: $BUILD_NUMBER
Status: $BUILD_STATUS
Link: $BUILD_URL
Triggers to enable:
âœ” Success
âœ” Failure
âœ” Unstable
************
pipeline {
    agent any

    stages {
        stage('Clone Repository') {
            steps {
                git branch: 'main', url: 'https://github.com/vindhya-tech/labinternal-1.git'
            }
        }

        stage('Build Maven Project') {
            steps {
                bat 'mvn -version'
                bat 'mvn clean install'
            }
        }

        stage('Run Application') {
            steps {
                echo "Application executed successfully!"
            }
        }
    }

    post {
        success {
            echo 'BUILD SUCCESS '
        }
    }
}
*******************************
pipeline {
    agent any
    
    tools {
              maven 'MAVEN_HOME'
    }

    stages {

        stage('Clone Repository') {
            steps {
                echo "Cloning GitHub repository..."
                git branch: 'main', url: 'https://github.com/vindhya-tech/labinternal-1.git'
            }
        }

        stage('Clean Project') {
            steps {
                echo "Cleaning previous build files..."
                bat "mvn clean"
            }
        }

        stage('Install Dependencies') {
            steps {
                echo "Running mvn install..."
                bat "mvn install"
            }
        }

        stage('Run Tests') {
            steps {
                echo "Executing test cases..."
                bat "mvn test"
            }
        }

        stage('Package Application') {
            steps {
                echo "Packaging application (.jar or .war)..."
                bat "mvn package"
            }
        }

        stage('Run Application') {
            steps {
                echo "Application executed successfully!"
            }
        }
    }

    post {
        success {
            echo "BUILD SUCCESS â€” All stages completed"
        }
        failure {
            echo "BUILD FAILED â€” Please check error logs"
        }
    }
}
***************************


Minicube:
minikube start --driver=docker
minikube status
kubectl get deployments
kubectl delete deployment <name>
kubectl create deployment mynginx --image=nginx
kubectl get deployments
kubectl get pods
kubectl expose deployment mynginx --type=NodePort --port=80 --target-port=80
kubectl get service
kubectl scale deployment mynginx --replicas=4
kubectl get pods
kubectl port-forward svc/mynginx 8081:80
kubectl delete deployment mynginx
kubectl delete service mynginx
minikube stop
minikube delete

jjsm vrik euac tudg
***********
nagios:docker pull jasonrivers/nagios:latest
docker run --name nagiosdemo -p 8888:80 jasonrivers/nagios:latest
http://localhost:8888
Username: nagiosadmin
Password: nagios
docker exec -it nagiosdemo bash
cd /opt/nagios/etc/servers
nano myserver.cfg
Add this host:
define host {
    use                     linux-server
    host_name               myserver
    alias                   My Test Server
    address                 192.168.1.10
}
Save and exit.
service nagios restart
exit
Now check in UI:
Hosts â†’ myserver â†’ UP/DOWN status
docker stop nagiosdemo
docker rm nagiosdemo
docker rmi jasonrivers/nagios:latest





aws:
cd C:\Users\<yourname>\Downloads
ssh -i "awskey.pem" ubuntu@ec2-3-88-15-xxx.compute-1.amazonaws.com
sudo apt update
sudo apt -y upgrade
sudo apt install docker.io -y
sudo systemctl start docker
sudo systemctl enable docker
docker --version
sudo apt install git -y
sudo apt install nano -y
mkdir mywebapp
cd mywebapp
nano index.html
<!DOCTYPE html>
<html>
<head>
    <title>My AWS Web App</title>
</head>
<body>
    <h1>Welcome to my EC2 + Docker Deployment!</h1>
    <p>Deployed by: Vindhya</p>
</body>
</html>
CTRL + O
Press Enter
Press CTRL + X
nano Dockerfile
FROM nginx:alpine
COPY index.html /usr/share/nginx/html/index.html
sudo docker build -t mywebimage .
sudo docker run -d -p 80:80 mywebimage
sudo docker ps
http://13.201.45.77






